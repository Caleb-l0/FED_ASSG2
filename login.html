<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - EasyElectronics</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <script>
        function openLoginModal() {
            const modal = document.getElementById("loginModal");
            modal.style.display = "flex"; 
        }

        function closeLoginModal() {
            const modal = document.getElementById("loginModal");
            modal.style.display = "none"; 
        }
        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();

            if (username && password) {
                localStorage.setItem('loggedInUser', username);
                closeLoginModal(); 
                updateLoginState(); 
                window.location.reload();
            } else {
                alert("Please enter a valid username and password.");
            }
        }
        function browseAsGuest(event) {
            event.preventDefault();
            localStorage.setItem('loggedInUser', 'Guest');
            localStorage.setItem('hasGuestVisited', true);
            closeLoginModal();
            updateLoginState();
            window.location.reload();
        }

        function updateLoginState() {
            const loggedInUser = localStorage.getItem('loggedInUser');
            const loginLink = document.getElementById('login-link');

            if (loggedInUser && loggedInUser !== 'Guest') {
                loginLink.innerHTML = `Welcome, ${loggedInUser}!`;
                loginLink.onclick = handleLogout;
            } else {
                loginLink.innerHTML = 'Login';
                loginLink.onclick = openLoginModal; 
            }
        }
        function handleLogout() {
            localStorage.removeItem('loggedInUser');
            localStorage.removeItem('hasGuestVisited');
            window.location.reload(); 
        }
        window.onload = function() {
            const loggedInUser = localStorage.getItem('loggedInUser');
            if (!loggedInUser || loggedInUser === 'Guest') {
                openLoginModal(); 
            } else {
                updateLoginState();
            }
        };
    </script>
    <section class="welcome-section">
        <div id="welcome-message" class="welcome-message">
          
        </div>
    </section>
    <section class="hero-section">
        <div class="hero-content">
            <h1>Discover the Future of Electronics</h1>
            <p>Explore our latest range of innovative products. Stay ahead with EasyElectronics.</p>
            <a href="#explore" class="btn-primary">Explore Now</a>
        </div>
    </section>
    <section class="explore-section" id="explore">
        <h2>Explore the Future of Electronics</h2>
        <div class="explore-content">
            <p>From cutting-edge gadgets to the latest in home technology, discover everything you need to make your life easier and more connected.</p>
        </div>
    </section>
    <footer class="footer">
        <p>&copy; EasyElectronics</p>
        <div class="footer-links">
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
            <a href="#">Contact</a>
        </div>
    </footer>

    <div id="loginModal" class="modal">
        <div class="modal-overlay"></div> 
        <div class="modal-content">
            <h2>Please Log In</h2>
            <form onsubmit="handleLogin(event)" class="modal-form">
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit" class="modal-button">Log In</button>
            </form>
            <p>or</p>
            <button class="modal-button" onclick="browseAsGuest(event)">Browse as Guest</button>
        </div>
    </div>
    
</body>
<script>
    function openLoginModal() {
        const modal = document.getElementById("loginModal");
        modal.style.display = "flex"; 
    }
    function closeLoginModal() {
        const modal = document.getElementById("loginModal");
        modal.style.display = "none"; 
    }

    function handleLogin(event) {
        event.preventDefault();
        const username = document.getElementById('username').value.trim();
        const password = document.getElementById('password').value.trim();

        if (username && password) {
            localStorage.setItem('loggedInUser', username);
            closeLoginModal();
            enableNavigation();
        } else {
            alert("Please enter a valid username and password.");
        }
    }
    function browseAsGuest(event) {
        event.preventDefault();
        localStorage.setItem('loggedInUser', 'Guest');
        closeLoginModal(); 
        enableNavigation(); 
    }
    function disableNavigation() {
        const links = document.querySelectorAll('a');
        links.forEach(link => {
            link.addEventListener('click', blockNavigation, true);
        });
    }

    function blockNavigation(event) {
        const loggedInUser = localStorage.getItem('loggedInUser');
        if (!loggedInUser) {
            event.preventDefault(); 
            openLoginModal(); 
        }
    }
    function enableNavigation() {
        const links = document.querySelectorAll('a');
        links.forEach(link => {
            link.removeEventListener('click', blockNavigation, true);
        });
    }
    window.onload = function() {
        const loggedInUser = localStorage.getItem('loggedInUser');
        if (!loggedInUser) {
            openLoginModal(); 
            disableNavigation(); 
        }
    };
</script>

</html>

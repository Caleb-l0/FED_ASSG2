<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - EasyElectronics</title>
    <link rel="stylesheet" href="style.css">
    <script src="login.js" defer></script>
</head>
<body>
    <script>
        fetch('header.html')
    .then(response => response.text())
    .then(data => {
        document.body.insertAdjacentHTML('afterbegin', data);
        updateLoginState(); 
    });
function updateLoginState() {
    const loggedInUser = localStorage.getItem('loggedInUser');
    const loginLink = document.getElementById('login-link');
    const logo = document.getElementById('logo'); 
    const modal = document.getElementById("loginModal");
    if (loggedInUser) {
        modal.style.display = 'none'; 

        if (loggedInUser === 'Guest') {
            loginLink.innerHTML = 'Login'; 
            loginLink.onclick = showLoginModal; 
        } else {
            loginLink.innerHTML = loggedInUser;
            loginLink.style.fontFamily = 'inherit'; 
            loginLink.style.fontSize = '16px';
            loginLink.onclick = handleLogout; 
        }
        logo.style.display = 'none'; 
    } else {
        logo.style.display = 'block';
        loginLink.innerHTML = 'Login';
        loginLink.onclick = showLoginModal; 
        if (!localStorage.getItem('hasGuestVisited') && !loggedInUser) {
            showLoginModal();
        }
    }
}
function showLoginModal() {
    const modal = document.getElementById("loginModal");
    modal.style.display = "flex"; 
}
function closeLoginModal() {
    const modal = document.getElementById("loginModal");
    modal.style.display = "none"; 
}
function handleLogin(event) {
    event.preventDefault();
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    if (username && password) {
        localStorage.setItem('loggedInUser', username);
        closeLoginModal();
        updateLoginState(); 
    } else {
        alert("Please enter a valid username and password.");
    }
}

function browseAsGuest(event) {
    event.preventDefault();
    localStorage.setItem('loggedInUser', 'Guest');
    localStorage.setItem('hasGuestVisited', true);
    closeLoginModal(); 
    updateLoginState();
}

function handleLogout() {
    localStorage.removeItem('loggedInUser'); 
    localStorage.removeItem('hasGuestVisited'); 
    window.location.reload(); 
}
    </script>
    <section class="welcome-section">
        <div id="welcome-message" class="welcome-message"></div>
    </section>

    <section class="hero-section">
        <div class="hero-content">
            <h1>Discover the Future of Electronics</h1>
            <p>Explore our latest range of innovative products. Stay ahead with EasyElectronics.</p>
            <a href="#explore" class="btn-primary">Explore Now</a>
        </div>
    </section>

    <section class="explore-section" id="explore">
        <h2>Explore the Future of Electronics</h2>
        <div class="explore-content">
            <p>From cutting-edge gadgets to the latest in home technology, discover everything you need to make your life easier and more connected.</p>
            <p>At EasyElectronics, we're dedicated to providing innovative, high-quality electronics that enhance your lifestyle. Our range includes the latest smartphones, wearables, home automation systems, and more.</p>
            <p>We believe in offering products that are reliable, durable, and user-friendly, with a focus on the latest technological advancements.</p>
            <p>Our goal is to deliver exceptional customer service and a seamless shopping experience for all our customers.</p>
            <p>Explore our collection today and discover how EasyElectronics can keep you ahead of the tech curve.</p>
        </div>
    </section>
    

    <footer class="footer">
        <p>&copy; EasyElectronics</p>
        <div class="footer-links">
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
            <a href="#">Contact</a>
        </div>
    </footer>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLoginModal()">&times;</span>
            <h2>Please Log In</h2>
            <form onsubmit="handleLogin(event)" class="modal-form">
                <input type="text" id="username" placeholder="Username" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit" class="modal-button">Log In</button>
            </form>
            <p>or</p>
            <button class="modal-button" onclick="browseAsGuest(event)">Browse as Guest</button>
        </div>
    </div>
</body>
</html>
